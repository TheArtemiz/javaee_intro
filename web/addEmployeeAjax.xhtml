<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
      xml:lang="en" lang="en">
<head>
    <title>Title</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript">

            function sendQuery() {
                $.ajax({
                    type: "POST",
                    url: "http://localhost:8080/JAVAEE_TEST_war_exploded/api/company/employee/new",
                    // The key needs to match your method's input parameter (case-sensitive).
                    data: JSON.stringify({
                        "first_name": $("#form\\:firstname").val(),
                        "last_name": $("#form\\:lastname").val(),
                        "age": parseInt($("#form\\:age").val(),10),
                        "salary": parseInt($('#form\\:salary').val(),10)
                    }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        alert(data);
                    },
                    failure: function (errMsg) {
                        alert(errMsg);
                    }
                });
                alert({
                    "first_name": $("#form\\:firstname").val(),
                    "last_name": $("#form\\:lastname").val(),
                    "age": parseInt($("#form\\:age").val(),10),
                    "salary": parseInt($('#form\\:salary').val(),10)
                });
            }

    </script>
</head>

<f:view>
    <h:outputLabel value="Add a new employee:"/>
    <h:form action = "table" id = "form" name= "form" method="get" >
        <p>

            Firstname: <h:inputText type="text" id="firstname" name="firstname" tabindex="1"/>
            Lastname: <h:inputText type="text" id="lastname" name="lastname" tabindex="2"/>
            Age: <h:inputText type="text" id="age" name="age" tabindex="3"/>
            Salary: <h:inputText type="text" id="salary" name="salary" tabindex="4"/>
            <h:button  name="save" onclick="sendQuery(); window.location.href='/JAVAEE_TEST_war_exploded/table.xhtml'; return false;" value="Save" />
        </p>
    </h:form>

</f:view>
</html>
